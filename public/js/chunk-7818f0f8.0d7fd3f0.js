(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7818f0f8"],{"11ad":function(t,e,a){},"19a5":function(t,e,a){},2979:function(t,e,a){},"5c8f":function(t,e,a){"use strict";a("11ad")},"5f80":function(t,e,a){},8068:function(t,e,a){"use strict";a("2979")},"80af":function(t,e,a){"use strict";a("19a5")},c58c:function(t,e,a){"use strict";a("5f80")},ed33:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100vh"},attrs:{id:"NoteMobile"}},[a("div",{staticClass:"panel-header",staticStyle:{width:"100%"}},[a("a",{on:{click:function(e){t.show=!0}}},[t._v(" 打开文件 ")]),t._v("当前路径："+t._s(t.current)+" ")]),t._m(0),a("DialogOpenFile",{attrs:{show:t.show},on:{"update:show":function(e){t.show=e},handleRowClick:t.handleRowClick}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"calc(100vh - 42px)"}},[a("div",{staticStyle:{width:"100%",height:"100%",display:"flex"},attrs:{id:"editor"}})])}],i=a("d4ec"),c=a("bee2"),l=a("262e"),r=a("2caf"),s=a("9ab4"),d=a("dee0"),u=a("1b40"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100vh"},attrs:{id:"editor"}})},b=[],p=a("ad41"),v=a("d380"),f=a("cedb"),m=a("ef5b"),O=function(t){Object(l["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.bConcatHtml=!0,t.editor=void 0,t}return Object(c["a"])(a,[{key:"mounted",value:function(){var t=this;this.componentLoaders&&(v["a"].componentLoaders=this.componentLoaders),this.formatLoaders&&(v["a"].formatLoaders=this.formatLoaders),console.log(this.host,this.toolFactories),this.toolFactories?v["a"].plugins[0]=new p["r"](this.toolFactories,this.host):v["a"].plugins[0]=new p["r"](v["b"],this.host),this.uploadFilePromise&&(v["a"].uploader=Object(f["a"])(this.uploadFilePromise)),this.editor=new p["d"](document.getElementById("editor"),v["a"]),this.editor.onChange.subscribe((function(){if(t.cbSaveJSON&&t.cbSaveJSON(t.editor.getJSON().content),t.cbSaveHTML){console.log("cbSaveHTML");var e=t.editor.getContents();t.cbSaveHTML(t.bConcatHtml?Object(m["a"])(e,t.styleLink):e)}}))}},{key:"replaceContent",value:function(t){this.editor.replaceContent(t)}}]),a}(u["c"]);Object(s["a"])([Object(u["b"])()],O.prototype,"uploadFilePromise",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"componentLoaders",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"formatLoaders",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"toolFactories",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"host",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"cbSaveJSON",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"cbSaveHTML",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"bConcatHtml",void 0),Object(s["a"])([Object(u["b"])()],O.prototype,"styleLink",void 0),O=Object(s["a"])([u["a"]],O);var y=O,j=y,w=(a("5c8f"),a("2877")),k=Object(w["a"])(j,h,b,!1,null,"b85eb7a0",null),g=k.exports,C=a("2d12"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"编辑事件",visible:t.show,width:"80%","before-close":t.handleClose,"append-to-body":"true"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"list-panel"},[a("ListPanel",{on:{"row-click":t.handleRowClick}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)])},L=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex",height:"100%","flex-wrap":"wrap"}},[a("el-tree",{attrs:{load:t.loadNode,lazy:"",props:t.props,"node-key":"value","default-expanded-keys":t.expandedKeys,"highlight-current":!0,"expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}}),a("el-table",{attrs:{data:t.listData,stripe:"",height:"100%","highlight-current-row":!0,"header-cell-class-name":"cellclass"},on:{"row-click":t.handleRowClick}},[a("el-table-column",{attrs:{prop:"name",label:"文件名",width:""}})],1)],1)},_=[],F=function(t){Object(l["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.listData=[],t}return Object(c["a"])(a,[{key:"data",value:function(){return{current:"",props:{label:"name",children:"children",value:"value",isLeaf:"leaf"},expandedKeys:["upload/note"]}}},{key:"loadNode",value:function(t,e){var a;if(0===t.level)return e([{name:"笔记",value:"upload/note"}]);a=1===t.level?"upload/note":t.data.value;var o=new FormData;o.append("filePath",a),d["a"].r.folders(o).then((function(t){return e(t.data.data)}))}},{key:"handleNodeClick",value:function(t){var e=this,a=new FormData;a.append("filePath",t.value),d["a"].r.files(a).then((function(t){e.listData=t.data.data}))}},{key:"handleRowClick",value:function(t){this.$emit("row-click",t)}}]),a}(u["c"]);F=Object(s["a"])([Object(u["a"])({components:{}})],F);var P=F,H=P,D=(a("c58c"),Object(w["a"])(H,x,_,!1,null,null,null)),N=D.exports,$=function(t){Object(l["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.show=!1,t}return Object(c["a"])(a,[{key:"data",value:function(){return{formLabelWidth:"80px",myFormData:{},rule:{figure_id:[{required:!0,min:10,max:10,message:"id,长度在 2 到 10 个字符",trigger:"blur"}]},data:{}}}},{key:"handleRowClick",value:function(t){this.data=t}},{key:"handleClose",value:function(){this.$emit("update:show",!1)}},{key:"handleSubmit",value:function(){this.$emit("handleRowClick",this.data),this.$emit("update:show",!1)}}]),a}(u["c"]);Object(s["a"])([Object(u["b"])()],$.prototype,"show",void 0),$=Object(s["a"])([Object(u["a"])({components:{ListPanel:N}})],$);var M=$,R=M,T=(a("8068"),Object(w["a"])(R,S,L,!1,null,"23bf48c6",null)),E=T.exports,J=function(t){Object(l["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.show=!1,t.current="",t.filePath="",t.config={outputSetting:{cbSaveHTML:t.cbSaveHTML,saveInterval:1e4,bConcatHtml:!0,styleLink:"http://106.55.148.203:8002/upload/textbus.component.style.css"},uploadFilePromise:d["a"].upload.image},t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.textbus=new C["a"](document.getElementById("editor"),this.config)}},{key:"handleRowClick",value:function(t){this.current=t.value,this.newContent(t.value)}},{key:"newContent",value:function(t){var e=this;this.filePath=t;var a=new FormData;a.append("filePath",t),d["a"].r.note(a).then((function(t){var a=t.data;0==a.code?e.textbus.replaceContent(a.content):console.log(a.message)}))}},{key:"cbSaveHTML",value:function(t){var e=new FormData;e.append("filePath",this.filePath),e.append("content",t),d["a"].u.note(e).then((function(t){var e=t.data;console.log("result",e)}))}}]),a}(u["c"]);J=Object(s["a"])([Object(u["a"])({components:{Textbus:g,DialogOpenFile:E}})],J);var I=J,B=I,K=(a("80af"),Object(w["a"])(B,o,n,!1,null,"d3d468e6",null));e["default"]=K.exports}}]);
//# sourceMappingURL=chunk-7818f0f8.0d7fd3f0.js.map